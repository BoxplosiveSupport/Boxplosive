@{ 
    var multiItemBrowserId = ViewData["Id"];
    var multiItemBrowserTitle = ViewData["Title"];
    var multiItemBrowserActionUrl = ViewData["ActionUrl"];
    var multiItemBrowserOnSaveActionUrl = ViewData["OnSaveActionUrl"];
    var multiItemBrowserOnSaveCallbackFunctionName = ViewData["OnSaveCallbackFunctionName"];
    var multiItemBrowserUploadResultRecordsLabelText = ViewData["UploadResultRecordsLabelText"] as string;
}

<div class="modal fade browser multiitem"
     id="@multiItemBrowserId"
     tabindex="-1"
     role="dialog"
     aria-labelledby="@multiItemBrowserId"
     aria-hidden="true"
     data-browsermodal="singleselect">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" title="Close"><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="saveastemplate">@multiItemBrowserTitle</h4>
            </div>
            <div data-upload="multiitem" data-url="@multiItemBrowserActionUrl" data-file-url-field="MultiItemFileName" class="modal-body">
                <div class="modal-error alert alert-danger" role="alert" style="display: none;">
                    <span class="icon icon-danger"></span> <strong>Looks like something went wrong, please try again later</strong>
                </div>
                <div class="form-group row">
                    @Html.Label("MultiItemFileName", "File", new { @class = "col-sm-2 col-form-label" })
                    <div class="col-sm-7">
                        @Html.TextBox("MultiItemFileName", "", new { id = "MultiItemFileName", @class = "form-control", disabled = "disabled", style = "background-color:#fff;" })
                    </div>
                    <div class="col-sm-3 text-right">
                        <span class="btn btn-default">
                            Browse...
                            @Html.TextBox("MultiItemFile", "", new { @class = "filebtn filebtn-default", @type = "file" })
                        </span>
                        <div class="progress">
                            <div class="progress-bar progress-bar-success" data-progress></div>
                        </div>
                        <p class="text-danger" data-status></p>
                    </div>
                </div>
                <div data-preview id="multiitemselects" style="display:none;">
                    @*<ul>
                        <li>
                            <span class="id">abcde</span>
                            <label class="label">qwerty</label>
                        </li>
                    </ul>*@
                </div>
                <div data-preview id="multiitemresults" class="form-group" style="display:none;">
                    <div class="row" style="margin-bottom:0;">
                        <label class="col-sm-2 col-sm-offset-2">@multiItemBrowserUploadResultRecordsLabelText</label>
                        <span class="items col-sm-3"></span>
                    </div>

                    <div class="row new-items-row" style="margin-bottom:0;">
                        <label class="col-sm-2 col-sm-offset-2">New:</label>
                        <span class="new-items col-sm-3"></span>
                    </div>

                    <div class="row" style="margin-bottom:0;">
                        <label class="col-sm-2 col-sm-offset-2">Errors:</label>
                        <span class="errors col-sm-3"></span>
                    </div>
                </div>
                <div data-preview id="multiitemerrors" class="form-group" style="display:none;">
                    <div class="row head" style="margin-bottom:0;">
                        <h5 class="col-sm-7 col-sm-offset-2 text-center" style="margin-bottom:0;">Errors</h5>
                    </div>
                    <div class="row body">
                        <div class="errors col-sm-7 col-sm-offset-2" style="overflow-y:scroll;max-height:120px;background-color:#fff;border:0;border-top:1px;border-style:solid;border-radius:4px;border-color:#b5b0a8;">
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-2">
                        <button type="button" data-actionurl="@multiItemBrowserOnSaveActionUrl" data-callbackfunction="@multiItemBrowserOnSaveCallbackFunctionName" id="multiitembtnok" class="btn btn-success btn-block" aria-label="Ok" title="OK" disabled>OK</button>
                    </div>
                    <div class="col-sm-2 col-sm-offset-8">
                        <button type="button" class="btn btn-info btn-block" data-dismiss="modal" aria-label="Cancel" title="Cancel">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var boxplosive = boxplosive || {};
    if (typeof boxplosive.setupMultiItemBrowser === "function") {
        boxplosive.setupMultiItemBrowser();
    }
</script>
